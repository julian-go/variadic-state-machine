Based on [this](https://sii.pl/blog/en/implementing-a-state-machine-in-c17/) article by Michael Adamczyk.

Example based on [tinyfsm](https://github.com/digint/tinyfsm/).